/ Implementation based on
/ https://github.com/alphagov/govuk-frontend/
/ blob/943ff14752f0a8a765ee3f90bc3e1ecd9205e36c/src/components/input/template.njk
ruby:
  described_by = ""
  has_hint = local_assigns[:hint].present?
  has_hint = local_assigns[:hint][:text].present? || local_assigns[:hint][:html].present? if has_hint
  has_error = local_assigns[:errorMessage].present?

  form_group_classes = [local_assigns.dig(:formGroup, :classes)]
  form_group_classes.push "govuk-form-group--error" if local_assigns[:errorMessage]
  input_classes = ["govuk-input", local_assigns[:classes]]
  input_classes.push("govuk-input--error") if local_assigns[:errorMessage].present?

.govuk-form-group class=form_group_classes id=local_assigns[:group_id]
  = render "components/govuk_label", for: id, **label

  - if has_hint
    - hint_id = local_assigns[:id] + '-hint'
    - described_by = described_by.present? ? described_by + ' ' + hint_id : hint_id
    = render "components/govuk_hint", id: hint_id, **local_assigns[:hint]

  - if has_error
    - error_id = local_assigns[:id] + '-error'
    - described_by = described_by.present? ? described_by + ' ' + error_id : error_id
    = render "components/govuk_error_message", id: error_id, **errorMessage

  input[*(local_assigns[:attributes] || {})
                class=input_classes
                id=id
                name=name
                type=(local_assigns[:type] || 'text')
                value=local_assigns[:value]
                pattern=local_assigns[:pattern]
                disabled=local_assigns[:disabled]
                maxlength=local_assigns[:max_length]
                aria-describedby=described_by
                autocomplete=local_assigns[:autocomplete]]
