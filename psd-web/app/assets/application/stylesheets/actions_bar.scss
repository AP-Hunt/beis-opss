/* ==========================================================================
   #BUTTON
   Unfortunately GDS don’t have a secondary button available.
   ========================================================================== */

.hmcts-button--secondary {
  background-color: govuk-colour("grey-3");
  box-shadow: 0 2px 0 rgba(govuk-colour("grey-1"), .7);
  color: govuk-colour("black");

  &:link,
  &:visited,
  &:active,
  &:hover {
    color: $govuk-text-colour;
  }

  &:hover,
  &:focus,
  &:link:focus {
    background-color: rgba(govuk-colour("grey-2"), .7);
    color: $govuk-text-colour;

    // IE8 does not support RGBA, provide fallback
    @include govuk-if-ie8 {
      background-color: #d3d4d5; // 70% of grey-2
    }

  }

}

/* ==========================================================================
   #WIDTH CONTAINER
   ========================================================================== */
@mixin hmcts-width-container($width: $govuk-page-width) {
  // Limit the width of the container to the page width
  max-width: $width;

  @include govuk-if-ie8 {
    width: $width;
  }

  // On mobile, add half width gutters
  margin: 0 $govuk-gutter-half;

  // On tablet, add full width gutters
  @include mq($from: tablet) {
    margin: 0 $govuk-gutter;
  }

  // As soon as the viewport is greater than the width of the page plus the
  // gutters, just centre the content instead of adding gutters.
  @include mq($and: "(min-width: #{($width + $govuk-gutter * 2)})") {
    margin: 0 auto;
  }
}


/* ==========================================================================
   #IDENTITY BAR
   ========================================================================== */

.hmcts-identity-bar {
  @include govuk-clearfix;
  background-color: govuk-colour("grey-4");
  box-shadow: inset 0 -1px 0 0 govuk-colour("grey-2"); /* Takes up no space */
  color: govuk-colour("black");
  padding-bottom: govuk-spacing(2) - 1px; /* Negative by 1px to compensate */
  padding-top: govuk-spacing(2);
}


.hmcts-identity-bar__container {
  @include hmcts-width-container;
  font-size: 0; /* Hide whitespace between elements */
  text-align: justify; /* Trick to remove the need for floats */

  &:after {
    content: '';
    display: inline-block;
    width: 100%;
  }

}

.hmcts-identity-bar__title {
  @include govuk-font(16);
  display: inline-block;
  vertical-align: top;
}

.hmcts-identity-bar__details {
  margin-right: govuk-spacing(2);
  padding-top: govuk-spacing(1);
  padding-bottom: govuk-spacing(1);

  @include mq($from: tablet) {
    display: inline-block;
    vertical-align: top;
    padding-top: govuk-spacing(2) + 1px; /* Alignment tweaks */
    padding-bottom: govuk-spacing(2) - 1px; /* Alignment tweaks */
  }

}


.hmcts-identity-bar__actions {
  margin-bottom: - govuk-spacing(2);

  @include mq($from: tablet) {
    display: inline-block;
    vertical-align: middle;
  }

}

.hmcts-identity-bar__menu {
  display: inline-block;
  margin-right: govuk-spacing(2);

  &:last-child {
    margin-right: 0;
  }

}

/* ==========================================================================
   #MENU
   ========================================================================== */

.hmcts-menu {
  display: inline-block;
  position: relative;
}

/* TOGGLE BUTTON */

.hmcts-menu__toggle-button {
  display: inline-block;
  margin-right: govuk-spacing(2);
  margin-bottom: govuk-spacing(2);
  width: auto; // Override GDS’s 100% width

  &:last-child {
    margin-right: 0;
  }
}

.hmcts-menu__toggle-button {
  margin-bottom: govuk-spacing(1);
  margin-right: 0;
  &:after {
    background-repeat: no-repeat;
    background-image: url("../images/icon-arrow-white-down.svg");
    content: '';
    display: inline-block;
    height: 5px;
    margin-left: govuk-spacing(2);
    width: 10px;
    vertical-align: middle;
  }
}

.hmcts-menu__toggle-button[aria-expanded="true"] {
  &:after {
    background-image: url("../images/icon-arrow-white-up.svg");
  }
}

.hmcts-menu__toggle-button--secondary {
  margin-bottom: govuk-spacing(1);
  margin-right: 0;
  &:after {
    background-image: url("../images/icon-arrow-black-down.svg");
  }
}

.hmcts-menu__toggle-button--secondary[aria-expanded="true"] {
  &:after {
    background-image: url("../images/icon-arrow-black-up.svg");
  }
}

/* MENU ITEM */

.hmcts-menu__item {
  display: inline-block;
  margin-right: govuk-spacing(2);
  margin-bottom: govuk-spacing(2);
  width: auto; // Override GDS’s 100% width
  &:last-child {
    margin-right: 0;
  }
}


.hmcts-menu [role=menuitem] {
  @include govuk-font(19);
  background-color: govuk-colour("grey-3");
  border: none;
  box-sizing: border-box;
  display: block;
  margin-bottom: 0;
  padding: govuk-spacing(2);
  text-align: left;
  width: 100%;
  -webkit-box-sizing: border-box;
  -webkit-appearance: none;

  &:link,
  &:visited {
    text-decoration: none;
    color:  govuk-colour("black");
  }

  &:hover {
    background-color: govuk-colour("grey-2");
  }

  &:focus {
    outline: 3px solid #ffbf47;
    outline-offset: 0;
    position: relative;
    z-index: 10;
  }
}

/* MENU WRAPPER */

.hmcts-menu__wrapper {
  font-size: 0; /* Hide whitespace between elements */
}

.hmcts-menu__wrapper--right {
  right: 0;
}

.hmcts-menu [role=menu] {
  position: absolute;
  width: 200px;
  z-index: 10;
}

.hmcts-menu [aria-expanded="true"] + [role=menu] {
  display: block;
}

.hmcts-menu [aria-expanded="false"] + [role=menu] {
  display: none;
}


/* ==========================================================================
   #ADDITIONS
   ========================================================================== */

.hmcts-menu + .hmcts-menu {
  margin-left: 16px;
}
